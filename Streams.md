## 数据流

### 持久化数据流

持久化数据流将数据写到磁盘上。



持久消息存储在预定义大小的时间分片文件(TSF)中。这种数据存储模型的特点之一是最新的TSF文件中的数据都缓存在内存中。然后，最新的TSF文件定期将数据刷新到磁盘上。

这对于非频繁更新的数据流非常重要，其中最新的TSF文件中数据可能不会保留很长时间，因为文件容量尚未达到。为了降低丢失数据的风险，可以将持久数据流配置为在预定义的时间刷新磁盘上的数据，并且也可以调整实际TSF文件的大小。数据可以由Alfred自动刷新，也可以通过 Loader 的 API 刷新。

### 瞬时数据流

Alfred 数据流的瞬态类型用于消息中继。瞬态消息存储在服务器的循环内存缓冲区中。当所有Reader(Cursor)读取瞬态流中的数据时，它会被丢弃。


